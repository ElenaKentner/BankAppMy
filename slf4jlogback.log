2023-11-09T13:07:09.323+01:00  INFO 71507 --- [main] c.e.b.controller.ClientControllerTest    : Starting ClientControllerTest using Java 20.0.1 with PID 71507 (started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T13:07:09.333+01:00  INFO 71507 --- [main] c.e.b.controller.ClientControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-11-09T13:07:17.886+01:00  INFO 71507 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T13:07:19.346+01:00  INFO 71507 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1234 ms. Found 6 JPA repository interfaces.
2023-11-09T13:07:25.881+01:00  INFO 71507 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T13:07:26.598+01:00  INFO 71507 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T13:07:26.610+01:00  INFO 71507 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T13:07:28.229+01:00  INFO 71507 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:07:30.003+01:00  INFO 71507 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T13:07:30.191+01:00  INFO 71507 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T13:07:32.786+01:00  INFO 71507 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-11-09T13:07:32.802+01:00  INFO 71507 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T13:07:35.378+01:00  INFO 71507 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:07:45.324+01:00  INFO 71507 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T13:07:45.343+01:00  INFO 71507 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:07:50.753+01:00  INFO 71507 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T13:08:00.407+01:00  WARN 71507 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-09T13:08:04.239+01:00  INFO 71507 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-09T13:08:04.241+01:00  INFO 71507 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-09T13:08:04.247+01:00  INFO 71507 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2023-11-09T13:08:04.346+01:00  INFO 71507 --- [main] c.e.b.controller.ClientControllerTest    : Started ClientControllerTest in 60.682 seconds (process running for 78.114)
2023-11-09T13:08:07.414+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/update/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.updateClient
2023-11-09T13:08:07.421+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.updateClient
2023-11-09T13:08:08.493+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=ACTIVE, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T13:08:08.763+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T13:08:08.765+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T13:08:08.771+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T13:08:08.785+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.deleteClient
2023-11-09T13:08:08.786+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.deleteClient
2023-11-09T13:08:09.250+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,Client deleted successfully,[]>
END OF REQUEST
2023-11-09T13:08:09.259+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T13:08:09.260+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T13:08:09.270+01:00 ERROR 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [fee1a328-e29b-4541-9284-b7c679e8a58e]. fee1a328-e29b-4541-9284-b7c679e8a58e not found
2023-11-09T13:08:09.767+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T13:08:09.768+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T13:08:09.776+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T13:08:10.709+01:00  INFO 71507 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:08:10.730+01:00  INFO 71507 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-11-09T13:08:11.142+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.create
2023-11-09T13:08:11.147+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.createAgreement
2023-11-09T13:08:11.314+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AgreementDTO(id=4b64a129-8159-4763-9abf-66bbe8c89850, status=NEW, accountId=11f7986c-c1d8-4231-838a-e84b17ccebdb, productId=afc9da7c-299d-4dd1-93bc-d71de8e5d1a6),[]>
END OF REQUEST
2023-11-09T13:08:11.496+01:00  INFO 71507 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:08:11.508+01:00  INFO 71507 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-11-09T13:08:11.992+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/update/afc9da7c-299d-4dd1-93bc-d71de8e5d1a6
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.updateById
2023-11-09T13:08:11.996+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.updateProductById
2023-11-09T13:08:12.086+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ProductDTO(name=name, status=BLOCKED, interestRate=2.50, minLimit=100),[]>
END OF REQUEST
2023-11-09T13:08:12.252+01:00  INFO 71507 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:08:12.281+01:00  INFO 71507 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-11-09T13:08:12.628+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.findTransaction
2023-11-09T13:08:12.629+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.findTransactionById
2023-11-09T13:08:12.744+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,TransactionDTO(id=18fbdb44-5563-47c0-b42e-20d5405e187d, debitAccountName=657483958765, creditAccountName=657483958765, status=ACTIVE, amount=2000.0000, description=a new transaction was created),[]>
END OF REQUEST
2023-11-09T13:08:12.865+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.deleteTransaction
2023-11-09T13:08:12.866+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.deleteTransactionById
2023-11-09T13:08:13.023+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T13:08:13.049+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.findTransaction
2023-11-09T13:08:13.051+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.findTransactionById
2023-11-09T13:08:13.059+01:00 ERROR 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [18fbdb44-5563-47c0-b42e-20d5405e187d]. Transaction not found
2023-11-09T13:08:13.228+01:00  INFO 71507 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:08:13.378+01:00  INFO 71507 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ManagerControllerTest
2023-11-09T13:08:13.828+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.createManager
2023-11-09T13:08:13.840+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.createManager
2023-11-09T13:08:13.849+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,ManagerDTO(id=9eff6c67-7823-48f8-95e1-441cccfa81f6, status=NEW, firstName=Pol, lastName=Popkow),[Location:"/9eff6c67-7823-48f8-95e1-441cccfa81f6"]>
END OF REQUEST
2023-11-09T13:08:14.349+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.findManager
2023-11-09T13:08:14.356+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.findManagerById
2023-11-09T13:08:14.372+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ManagerDTO(id=1370ec78-5c28-46c3-b8dd-8ebee695daea, status=NEW, firstName=Vasilev, lastName=Ivan),[]>
END OF REQUEST
2023-11-09T13:08:14.379+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.deleteById
2023-11-09T13:08:14.380+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.deleteManagerById
2023-11-09T13:08:14.521+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T13:08:14.525+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.findManager
2023-11-09T13:08:14.526+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.findManagerById
2023-11-09T13:08:14.529+01:00 ERROR 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [1370ec78-5c28-46c3-b8dd-8ebee695daea]. Manager not found
2023-11-09T13:08:14.631+01:00  INFO 71507 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:08:14.720+01:00  INFO 71507 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.AccountControllerTest
2023-11-09T13:08:14.922+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T13:08:14.924+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T13:08:14.925+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T13:08:14.942+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=bc4b14e8-52f3-44d3-9e0f-e92c33afbcd8, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='314039106688', createdAt=2023-11-09T13:08:14.932403, updatedAt=2023-11-09T13:08:14.932435},[Location:"/bc4b14e8-52f3-44d3-9e0f-e92c33afbcd8"]>
END OF REQUEST
2023-11-09T13:08:15.317+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/bc4b14e8-52f3-44d3-9e0f-e92c33afbcd8
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.deleteAccount
2023-11-09T13:08:15.318+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.deleteAccount
2023-11-09T13:08:15.336+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T13:08:15.344+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/bc4b14e8-52f3-44d3-9e0f-e92c33afbcd8
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T13:08:15.345+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T13:08:15.348+01:00 ERROR 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [bc4b14e8-52f3-44d3-9e0f-e92c33afbcd8]. Account not found
2023-11-09T13:08:15.588+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/by-product-name
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-11-09T13:08:15.589+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-11-09T13:08:16.292+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=657483958765, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov)],[]>
END OF REQUEST
2023-11-09T13:08:16.419+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T13:08:16.420+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T13:08:16.421+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T13:08:16.432+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=b7c3cbbe-4006-4d76-b7f0-6a32f8c66a34, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='741140781135', createdAt=2023-11-09T13:08:16.424499, updatedAt=2023-11-09T13:08:16.424516},[Location:"/b7c3cbbe-4006-4d76-b7f0-6a32f8c66a34"]>
END OF REQUEST
2023-11-09T13:08:16.445+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/b7c3cbbe-4006-4d76-b7f0-6a32f8c66a34
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T13:08:16.446+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T13:08:16.461+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=b7c3cbbe-4006-4d76-b7f0-6a32f8c66a34, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=EUR, type=CHECKING, balance=0.00, name=741140781135, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T13:08:16.931+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T13:08:16.932+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T13:08:16.934+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T13:08:17.026+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=5668a823-baee-4b6f-8b36-8e30d7298ed6, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='055429939342', createdAt=2023-11-09T13:08:16.939168, updatedAt=2023-11-09T13:08:16.939186},[Location:"/5668a823-baee-4b6f-8b36-8e30d7298ed6"]>
END OF REQUEST
2023-11-09T13:08:17.159+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T13:08:17.159+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T13:08:17.160+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T13:08:17.170+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=712fba37-fd0a-4c80-95b4-cad3432039cc, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='739667210023', createdAt=2023-11-09T13:08:17.165606, updatedAt=2023-11-09T13:08:17.165629},[Location:"/712fba37-fd0a-4c80-95b4-cad3432039cc"]>
END OF REQUEST
2023-11-09T13:08:17.179+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/update/712fba37-fd0a-4c80-95b4-cad3432039cc
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.updateAccount
2023-11-09T13:08:17.181+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.updateAccount
2023-11-09T13:08:17.371+01:00  INFO 71507 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=712fba37-fd0a-4c80-95b4-cad3432039cc, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000, name=null, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T13:08:21.894+01:00  INFO 71507 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:08:23.082+01:00  INFO 71507 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-09T13:08:23.088+01:00  INFO 71507 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-09T13:09:40.600+01:00  INFO 71587 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 20.0.1 with PID 71587 (started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T13:09:40.604+01:00  INFO 71587 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-11-09T13:09:44.365+01:00  INFO 71587 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T13:09:44.871+01:00  INFO 71587 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 418 ms. Found 6 JPA repository interfaces.
2023-11-09T13:09:48.134+01:00  INFO 71587 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T13:09:48.352+01:00  INFO 71587 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T13:09:48.361+01:00  INFO 71587 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T13:09:49.178+01:00  INFO 71587 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:09:49.704+01:00  INFO 71587 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T13:09:49.770+01:00  INFO 71587 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T13:09:51.256+01:00  INFO 71587 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-11-09T13:09:51.264+01:00  INFO 71587 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T13:09:53.117+01:00  INFO 71587 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:09:55.694+01:00  INFO 71587 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T13:09:55.700+01:00  INFO 71587 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:09:58.714+01:00  INFO 71587 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T13:10:07.147+01:00  WARN 71587 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-09T13:10:11.063+01:00  INFO 71587 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-09T13:10:11.063+01:00  INFO 71587 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-09T13:10:11.065+01:00  INFO 71587 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-11-09T13:10:11.190+01:00  INFO 71587 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 33.097 seconds (process running for 40.294)
2023-11-09T13:10:13.972+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T13:10:13.975+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T13:10:13.977+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T13:10:14.753+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=44e3a942-fe13-45df-82fe-2096759cd745, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='800343129968', createdAt=2023-11-09T13:10:14.563034, updatedAt=2023-11-09T13:10:14.563080},[Location:"/44e3a942-fe13-45df-82fe-2096759cd745"]>
END OF REQUEST
2023-11-09T13:10:14.903+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/44e3a942-fe13-45df-82fe-2096759cd745
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.deleteAccount
2023-11-09T13:10:14.904+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.deleteAccount
2023-11-09T13:10:15.336+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T13:10:15.379+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/44e3a942-fe13-45df-82fe-2096759cd745
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T13:10:15.390+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T13:10:15.397+01:00 ERROR 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [44e3a942-fe13-45df-82fe-2096759cd745]. Account not found
2023-11-09T13:10:15.783+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/by-product-name
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-11-09T13:10:15.784+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-11-09T13:10:16.062+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=657483958765, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov)],[]>
END OF REQUEST
2023-11-09T13:10:16.438+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T13:10:16.441+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T13:10:16.442+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T13:10:16.490+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=606019ca-63df-429b-8d0f-1724d69b95ef, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='354352081582', createdAt=2023-11-09T13:10:16.485833, updatedAt=2023-11-09T13:10:16.485862},[Location:"/606019ca-63df-429b-8d0f-1724d69b95ef"]>
END OF REQUEST
2023-11-09T13:10:16.512+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/606019ca-63df-429b-8d0f-1724d69b95ef
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T13:10:16.514+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T13:10:16.524+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=606019ca-63df-429b-8d0f-1724d69b95ef, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=EUR, type=CHECKING, balance=0.00, name=354352081582, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T13:10:16.841+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T13:10:16.842+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T13:10:16.843+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T13:10:16.855+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=f07675be-33bb-4d09-8c36-db234ac7da64, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='262095499375', createdAt=2023-11-09T13:10:16.850605, updatedAt=2023-11-09T13:10:16.850633},[Location:"/f07675be-33bb-4d09-8c36-db234ac7da64"]>
END OF REQUEST
2023-11-09T13:10:17.034+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T13:10:17.039+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T13:10:17.039+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T13:10:17.048+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=b8af36c7-0a79-44e7-b373-7a3d80ba18ba, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='988421329561', createdAt=2023-11-09T13:10:17.043505, updatedAt=2023-11-09T13:10:17.043530},[Location:"/b8af36c7-0a79-44e7-b373-7a3d80ba18ba"]>
END OF REQUEST
2023-11-09T13:10:17.055+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/update/b8af36c7-0a79-44e7-b373-7a3d80ba18ba
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.updateAccount
2023-11-09T13:10:17.057+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.updateAccount
2023-11-09T13:10:17.094+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=b8af36c7-0a79-44e7-b373-7a3d80ba18ba, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000, name=null, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T13:10:17.114+01:00  INFO 71587 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:10:17.230+01:00  INFO 71587 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-11-09T13:10:17.419+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/update/afc9da7c-299d-4dd1-93bc-d71de8e5d1a6
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.updateById
2023-11-09T13:10:17.424+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.updateProductById
2023-11-09T13:10:17.447+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ProductDTO(name=name, status=BLOCKED, interestRate=2.50, minLimit=100),[]>
END OF REQUEST
2023-11-09T13:10:19.758+01:00  INFO 71587 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:10:19.787+01:00  INFO 71587 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-11-09T13:10:20.042+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.findTransaction
2023-11-09T13:10:20.043+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.findTransactionById
2023-11-09T13:10:20.111+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,TransactionDTO(id=18fbdb44-5563-47c0-b42e-20d5405e187d, debitAccountName=657483958765, creditAccountName=657483958765, status=ACTIVE, amount=2000.0000, description=a new transaction was created),[]>
END OF REQUEST
2023-11-09T13:10:20.235+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.deleteTransaction
2023-11-09T13:10:20.242+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.deleteTransactionById
2023-11-09T13:10:20.309+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T13:10:20.324+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.findTransaction
2023-11-09T13:10:20.325+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.findTransactionById
2023-11-09T13:10:20.414+01:00 ERROR 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [18fbdb44-5563-47c0-b42e-20d5405e187d]. Transaction not found
2023-11-09T13:10:21.230+01:00  INFO 71587 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ClientControllerTest]: ClientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:10:21.244+01:00  INFO 71587 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ClientControllerTest
2023-11-09T13:10:21.887+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/update/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.updateClient
2023-11-09T13:10:21.895+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.updateClient
2023-11-09T13:10:21.907+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=ACTIVE, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T13:10:22.414+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T13:10:22.416+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T13:10:22.474+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T13:10:22.495+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.deleteClient
2023-11-09T13:10:22.501+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.deleteClient
2023-11-09T13:10:22.530+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,Client deleted successfully,[]>
END OF REQUEST
2023-11-09T13:10:22.542+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T13:10:22.551+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T13:10:22.554+01:00 ERROR 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [fee1a328-e29b-4541-9284-b7c679e8a58e]. fee1a328-e29b-4541-9284-b7c679e8a58e not found
2023-11-09T13:10:22.848+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T13:10:22.850+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T13:10:22.854+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T13:10:23.792+01:00  INFO 71587 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:10:23.920+01:00  INFO 71587 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-11-09T13:10:24.145+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.create
2023-11-09T13:10:24.148+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.createAgreement
2023-11-09T13:10:24.189+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AgreementDTO(id=d0350d5b-19c0-4f9f-981a-7a44756a26db, status=NEW, accountId=11f7986c-c1d8-4231-838a-e84b17ccebdb, productId=afc9da7c-299d-4dd1-93bc-d71de8e5d1a6),[]>
END OF REQUEST
2023-11-09T13:10:24.293+01:00  INFO 71587 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:10:24.356+01:00  INFO 71587 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ManagerControllerTest
2023-11-09T13:10:24.602+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.createManager
2023-11-09T13:10:24.610+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.createManager
2023-11-09T13:10:24.641+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,ManagerDTO(id=4e82dd6b-0108-4eed-9a3c-fe220185d37d, status=NEW, firstName=Pol, lastName=Popkow),[Location:"/4e82dd6b-0108-4eed-9a3c-fe220185d37d"]>
END OF REQUEST
2023-11-09T13:10:24.925+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.findManager
2023-11-09T13:10:24.932+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.findManagerById
2023-11-09T13:10:24.949+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ManagerDTO(id=1370ec78-5c28-46c3-b8dd-8ebee695daea, status=NEW, firstName=Vasilev, lastName=Ivan),[]>
END OF REQUEST
2023-11-09T13:10:24.955+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.deleteById
2023-11-09T13:10:24.960+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.deleteManagerById
2023-11-09T13:10:25.070+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T13:10:25.088+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.findManager
2023-11-09T13:10:25.089+01:00  INFO 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.findManagerById
2023-11-09T13:10:25.091+01:00 ERROR 71587 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [1370ec78-5c28-46c3-b8dd-8ebee695daea]. Manager not found
2023-11-09T13:10:25.130+01:00  INFO 71587 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:10:25.136+01:00  INFO 71587 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-09T13:10:25.281+01:00  INFO 71587 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-09T13:14:46.824+01:00  INFO 71681 --- [main] c.e.b.controller.ClientControllerTest    : Starting ClientControllerTest using Java 20.0.1 with PID 71681 (started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T13:14:46.891+01:00  INFO 71681 --- [main] c.e.b.controller.ClientControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-11-09T13:14:50.319+01:00  INFO 71681 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T13:14:50.817+01:00  INFO 71681 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 481 ms. Found 6 JPA repository interfaces.
2023-11-09T13:14:53.746+01:00  INFO 71681 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T13:14:53.940+01:00  INFO 71681 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T13:14:53.952+01:00  INFO 71681 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T13:14:54.691+01:00  INFO 71681 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:14:55.309+01:00  INFO 71681 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T13:14:55.357+01:00  INFO 71681 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T13:14:56.571+01:00  INFO 71681 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-11-09T13:14:56.576+01:00  INFO 71681 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T13:14:58.038+01:00  INFO 71681 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:15:00.609+01:00  INFO 71681 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T13:15:00.614+01:00  INFO 71681 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:15:03.771+01:00  INFO 71681 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T13:15:09.760+01:00  WARN 71681 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-09T13:15:12.649+01:00  INFO 71681 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-09T13:15:12.651+01:00  INFO 71681 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-09T13:15:12.658+01:00  INFO 71681 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2023-11-09T13:15:12.773+01:00  INFO 71681 --- [main] c.e.b.controller.ClientControllerTest    : Started ClientControllerTest in 28.054 seconds (process running for 36.926)
2023-11-09T13:15:16.280+01:00  WARN 71681 --- [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.example.bankapp.dto.ClientDTO> com.example.bankapp.controller.ClientController.createClient(com.example.bankapp.dto.ClientDTO) with 2 errors: [Field error in object 'clientDTO' on field 'firstName': rejected value [Vasja]; codes [Pattern.clientDTO.firstName,Pattern.firstName,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [clientDTO.firstName,firstName]; arguments []; default message [firstName],[Ljakarta.validation.constraints.Pattern$Flag;@632d8166,[A-Za-z-']]; default message [first name must contain only latin alphabet]] [Field error in object 'clientDTO' on field 'lastName': rejected value [Petrov]; codes [Pattern.clientDTO.lastName,Pattern.lastName,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [clientDTO.lastName,lastName]; arguments []; default message [lastName],[Ljakarta.validation.constraints.Pattern$Flag;@632d8166,[A-Za-z-']]; default message [last name must contain only latin alphabet]] ]
2023-11-09T13:15:16.399+01:00  INFO 71681 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:15:16.403+01:00  INFO 71681 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-09T13:15:16.408+01:00  INFO 71681 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-09T13:17:03.986+01:00  INFO 71726 --- [main] c.e.b.controller.ClientControllerTest    : Starting ClientControllerTest using Java 20.0.1 with PID 71726 (started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T13:17:03.996+01:00  INFO 71726 --- [main] c.e.b.controller.ClientControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-11-09T13:17:06.796+01:00  INFO 71726 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T13:17:07.219+01:00  INFO 71726 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 383 ms. Found 6 JPA repository interfaces.
2023-11-09T13:17:09.970+01:00  INFO 71726 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T13:17:10.137+01:00  INFO 71726 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T13:17:10.143+01:00  INFO 71726 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T13:17:10.819+01:00  INFO 71726 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:17:11.552+01:00  INFO 71726 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T13:17:11.588+01:00  INFO 71726 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T13:17:13.776+01:00  INFO 71726 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-11-09T13:17:13.780+01:00  INFO 71726 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T13:17:15.020+01:00  INFO 71726 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:17:17.580+01:00  INFO 71726 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T13:17:17.584+01:00  INFO 71726 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:17:20.583+01:00  INFO 71726 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T13:17:26.304+01:00  WARN 71726 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-09T13:17:29.542+01:00  INFO 71726 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-09T13:17:29.543+01:00  INFO 71726 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-09T13:17:29.550+01:00  INFO 71726 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 6 ms
2023-11-09T13:17:29.628+01:00  INFO 71726 --- [main] c.e.b.controller.ClientControllerTest    : Started ClientControllerTest in 27.632 seconds (process running for 34.551)
2023-11-09T13:17:32.138+01:00  WARN 71726 --- [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.example.bankapp.dto.ClientDTO> com.example.bankapp.controller.ClientController.createClient(com.example.bankapp.dto.ClientDTO) with 2 errors: [Field error in object 'clientDTO' on field 'firstName': rejected value [Vova]; codes [Pattern.clientDTO.firstName,Pattern.firstName,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [clientDTO.firstName,firstName]; arguments []; default message [firstName],[Ljakarta.validation.constraints.Pattern$Flag;@ab98032,[A-Za-z-']]; default message [first name must contain only latin alphabet]] [Field error in object 'clientDTO' on field 'lastName': rejected value [Petrov]; codes [Pattern.clientDTO.lastName,Pattern.lastName,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [clientDTO.lastName,lastName]; arguments []; default message [lastName],[Ljakarta.validation.constraints.Pattern$Flag;@ab98032,[A-Za-z-']]; default message [last name must contain only latin alphabet]] ]
2023-11-09T13:17:32.263+01:00  INFO 71726 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:17:32.267+01:00  INFO 71726 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-09T13:17:32.273+01:00  INFO 71726 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-09T13:19:57.193+01:00  INFO 71784 --- [main] c.e.b.controller.ClientControllerTest    : Starting ClientControllerTest using Java 20.0.1 with PID 71784 (started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T13:19:57.197+01:00  INFO 71784 --- [main] c.e.b.controller.ClientControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-11-09T13:19:59.821+01:00  INFO 71784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T13:20:00.242+01:00  INFO 71784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 400 ms. Found 6 JPA repository interfaces.
2023-11-09T13:20:03.195+01:00  INFO 71784 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T13:20:03.684+01:00  INFO 71784 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T13:20:03.692+01:00  INFO 71784 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T13:20:04.484+01:00  INFO 71784 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:20:05.659+01:00  INFO 71784 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T13:20:05.762+01:00  INFO 71784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T13:20:07.453+01:00  INFO 71784 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-11-09T13:20:07.456+01:00  INFO 71784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T13:20:08.880+01:00  INFO 71784 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:20:11.977+01:00  INFO 71784 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T13:20:11.984+01:00  INFO 71784 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:20:14.308+01:00  INFO 71784 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T13:20:20.118+01:00  WARN 71784 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-09T13:20:24.045+01:00  INFO 71784 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-09T13:20:24.046+01:00  INFO 71784 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-09T13:20:24.048+01:00  INFO 71784 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2023-11-09T13:20:24.123+01:00  INFO 71784 --- [main] c.e.b.controller.ClientControllerTest    : Started ClientControllerTest in 28.432 seconds (process running for 34.656)
2023-11-09T13:20:26.162+01:00  INFO 71784 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.createClient
2023-11-09T13:20:26.166+01:00  INFO 71784 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.createClient
2023-11-09T13:20:26.363+01:00  INFO 71784 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,ClientDTO(id=a574dcd4-1b9a-493c-b39f-7856bfebc378, status=NEW, taxCode=98765432, firstName=Vova, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[Location:"/a574dcd4-1b9a-493c-b39f-7856bfebc378"]>
END OF REQUEST
2023-11-09T13:20:26.524+01:00  INFO 71784 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:20:26.528+01:00  INFO 71784 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-09T13:20:26.535+01:00  INFO 71784 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-09T13:21:49.649+01:00  INFO 71820 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 20.0.1 with PID 71820 (started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T13:21:49.653+01:00  INFO 71820 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-11-09T13:21:51.863+01:00  INFO 71820 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T13:21:52.167+01:00  INFO 71820 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 267 ms. Found 6 JPA repository interfaces.
2023-11-09T13:21:54.458+01:00  INFO 71820 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T13:21:54.588+01:00  INFO 71820 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T13:21:54.592+01:00  INFO 71820 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T13:21:55.169+01:00  INFO 71820 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:21:55.641+01:00  INFO 71820 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T13:21:55.689+01:00  INFO 71820 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T13:21:56.785+01:00  INFO 71820 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-11-09T13:21:56.788+01:00  INFO 71820 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T13:21:57.834+01:00  INFO 71820 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:22:00.123+01:00  INFO 71820 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T13:22:00.129+01:00  INFO 71820 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:22:02.687+01:00  INFO 71820 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T13:22:07.799+01:00  WARN 71820 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-09T13:22:10.979+01:00  INFO 71820 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-09T13:22:10.980+01:00  INFO 71820 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-09T13:22:10.983+01:00  INFO 71820 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2023-11-09T13:22:11.102+01:00  INFO 71820 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 23.035 seconds (process running for 29.409)
2023-11-09T13:22:13.862+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T13:22:13.865+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T13:22:13.869+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T13:22:14.376+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=46eb61ae-df9a-44c0-b918-1c83bd864581, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='430626223734', createdAt=2023-11-09T13:22:14.258746, updatedAt=2023-11-09T13:22:14.258784},[Location:"/46eb61ae-df9a-44c0-b918-1c83bd864581"]>
END OF REQUEST
2023-11-09T13:22:14.707+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/46eb61ae-df9a-44c0-b918-1c83bd864581
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.deleteAccount
2023-11-09T13:22:14.708+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.deleteAccount
2023-11-09T13:22:14.791+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T13:22:14.841+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/46eb61ae-df9a-44c0-b918-1c83bd864581
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T13:22:14.842+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T13:22:14.853+01:00 ERROR 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [46eb61ae-df9a-44c0-b918-1c83bd864581]. Account not found
2023-11-09T13:22:15.320+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/by-product-name
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-11-09T13:22:15.322+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-11-09T13:22:15.708+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=657483958765, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov)],[]>
END OF REQUEST
2023-11-09T13:22:15.949+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T13:22:15.950+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T13:22:15.951+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T13:22:15.967+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=be36ccbf-ddbc-4392-99ea-b9b486a0015e, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='121411711377', createdAt=2023-11-09T13:22:15.963096, updatedAt=2023-11-09T13:22:15.963123},[Location:"/be36ccbf-ddbc-4392-99ea-b9b486a0015e"]>
END OF REQUEST
2023-11-09T13:22:15.978+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/be36ccbf-ddbc-4392-99ea-b9b486a0015e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T13:22:15.979+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T13:22:15.992+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=be36ccbf-ddbc-4392-99ea-b9b486a0015e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=EUR, type=CHECKING, balance=0.00, name=121411711377, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T13:22:16.197+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T13:22:16.199+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T13:22:16.199+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T13:22:16.208+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=cafd36d9-45b6-407c-a96b-bcd800ec9b75, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='123726926409', createdAt=2023-11-09T13:22:16.203151, updatedAt=2023-11-09T13:22:16.203175},[Location:"/cafd36d9-45b6-407c-a96b-bcd800ec9b75"]>
END OF REQUEST
2023-11-09T13:22:16.379+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T13:22:16.380+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T13:22:16.381+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T13:22:16.389+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=e3da0866-6cf2-4f1a-bb29-679d4d43d41e, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='274830328495', createdAt=2023-11-09T13:22:16.386252, updatedAt=2023-11-09T13:22:16.386277},[Location:"/e3da0866-6cf2-4f1a-bb29-679d4d43d41e"]>
END OF REQUEST
2023-11-09T13:22:16.399+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/update/e3da0866-6cf2-4f1a-bb29-679d4d43d41e
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.updateAccount
2023-11-09T13:22:16.400+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.updateAccount
2023-11-09T13:22:16.441+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=e3da0866-6cf2-4f1a-bb29-679d4d43d41e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000, name=null, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T13:22:16.500+01:00  INFO 71820 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:22:16.516+01:00  INFO 71820 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-11-09T13:22:16.750+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/update/afc9da7c-299d-4dd1-93bc-d71de8e5d1a6
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.updateById
2023-11-09T13:22:16.751+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.updateProductById
2023-11-09T13:22:16.767+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ProductDTO(name=name, status=BLOCKED, interestRate=2.50, minLimit=100),[]>
END OF REQUEST
2023-11-09T13:22:18.368+01:00  INFO 71820 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:22:18.414+01:00  INFO 71820 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-11-09T13:22:18.672+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.findTransaction
2023-11-09T13:22:18.675+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.findTransactionById
2023-11-09T13:22:18.694+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,TransactionDTO(id=18fbdb44-5563-47c0-b42e-20d5405e187d, debitAccountName=657483958765, creditAccountName=657483958765, status=ACTIVE, amount=2000.0000, description=a new transaction was created),[]>
END OF REQUEST
2023-11-09T13:22:18.726+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.deleteTransaction
2023-11-09T13:22:18.727+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.deleteTransactionById
2023-11-09T13:22:18.738+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T13:22:18.748+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.findTransaction
2023-11-09T13:22:18.749+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.findTransactionById
2023-11-09T13:22:18.752+01:00 ERROR 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [18fbdb44-5563-47c0-b42e-20d5405e187d]. Transaction not found
2023-11-09T13:22:19.448+01:00  INFO 71820 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ClientControllerTest]: ClientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:22:19.469+01:00  INFO 71820 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ClientControllerTest
2023-11-09T13:22:19.784+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/update/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.updateClient
2023-11-09T13:22:19.786+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.updateClient
2023-11-09T13:22:19.801+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=ACTIVE, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T13:22:20.026+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T13:22:20.027+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T13:22:20.046+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T13:22:20.063+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.deleteClient
2023-11-09T13:22:20.064+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.deleteClient
2023-11-09T13:22:20.085+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,Client deleted successfully,[]>
END OF REQUEST
2023-11-09T13:22:20.099+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T13:22:20.116+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T13:22:20.129+01:00 ERROR 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [fee1a328-e29b-4541-9284-b7c679e8a58e]. fee1a328-e29b-4541-9284-b7c679e8a58e not found
2023-11-09T13:22:20.306+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T13:22:20.307+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T13:22:20.311+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T13:22:20.980+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.createClient
2023-11-09T13:22:20.980+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.createClient
2023-11-09T13:22:20.986+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,ClientDTO(id=1344fe4a-8af9-4935-9540-2030aee044ed, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[Location:"/1344fe4a-8af9-4935-9540-2030aee044ed"]>
END OF REQUEST
2023-11-09T13:22:21.010+01:00  INFO 71820 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:22:21.027+01:00  INFO 71820 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-11-09T13:22:21.529+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.create
2023-11-09T13:22:21.530+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.createAgreement
2023-11-09T13:22:21.628+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AgreementDTO(id=ddde7543-56c3-41d7-b6a5-dd2f60c63a09, status=NEW, accountId=11f7986c-c1d8-4231-838a-e84b17ccebdb, productId=afc9da7c-299d-4dd1-93bc-d71de8e5d1a6),[]>
END OF REQUEST
2023-11-09T13:22:21.830+01:00  INFO 71820 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:22:21.907+01:00  INFO 71820 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ManagerControllerTest
2023-11-09T13:22:22.174+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.createManager
2023-11-09T13:22:22.174+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.createManager
2023-11-09T13:22:22.184+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,ManagerDTO(id=58557fc3-3cf6-4487-a79d-95b70a3a3906, status=NEW, firstName=Pol, lastName=Popkow),[Location:"/58557fc3-3cf6-4487-a79d-95b70a3a3906"]>
END OF REQUEST
2023-11-09T13:22:22.461+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.findManager
2023-11-09T13:22:22.463+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.findManagerById
2023-11-09T13:22:22.471+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ManagerDTO(id=1370ec78-5c28-46c3-b8dd-8ebee695daea, status=NEW, firstName=Vasilev, lastName=Ivan),[]>
END OF REQUEST
2023-11-09T13:22:22.488+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.deleteById
2023-11-09T13:22:22.489+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.deleteManagerById
2023-11-09T13:22:22.534+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T13:22:22.539+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.findManager
2023-11-09T13:22:22.540+01:00  INFO 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.findManagerById
2023-11-09T13:22:22.544+01:00 ERROR 71820 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [1370ec78-5c28-46c3-b8dd-8ebee695daea]. Manager not found
2023-11-09T13:22:22.633+01:00  INFO 71820 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:22:22.639+01:00  INFO 71820 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-09T13:22:22.708+01:00  INFO 71820 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-09T13:23:42.247+01:00  INFO 71869 --- [main] c.e.b.controller.ClientControllerTest    : Starting ClientControllerTest using Java 20.0.1 with PID 71869 (started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T13:23:42.251+01:00  INFO 71869 --- [main] c.e.b.controller.ClientControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-11-09T13:23:46.221+01:00  INFO 71869 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T13:23:46.688+01:00  INFO 71869 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 426 ms. Found 6 JPA repository interfaces.
2023-11-09T13:23:50.830+01:00  INFO 71869 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T13:23:51.221+01:00  INFO 71869 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T13:23:51.243+01:00  INFO 71869 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T13:23:52.466+01:00  INFO 71869 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:23:53.290+01:00  INFO 71869 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T13:23:53.389+01:00  INFO 71869 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T13:23:56.007+01:00  INFO 71869 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-11-09T13:23:56.019+01:00  INFO 71869 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T13:23:57.689+01:00  INFO 71869 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:24:02.873+01:00  INFO 71869 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T13:24:02.886+01:00  INFO 71869 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:24:06.847+01:00  INFO 71869 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T13:24:13.581+01:00  WARN 71869 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-09T13:24:17.107+01:00  INFO 71869 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-09T13:24:17.108+01:00  INFO 71869 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-09T13:24:17.111+01:00  INFO 71869 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2023-11-09T13:24:17.170+01:00  INFO 71869 --- [main] c.e.b.controller.ClientControllerTest    : Started ClientControllerTest in 38.498 seconds (process running for 45.925)
2023-11-09T13:24:20.636+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/update/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.updateClient
2023-11-09T13:24:20.641+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.updateClient
2023-11-09T13:24:21.314+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=ACTIVE, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T13:24:21.578+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T13:24:21.579+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T13:24:21.585+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T13:24:21.593+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.deleteClient
2023-11-09T13:24:21.595+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.deleteClient
2023-11-09T13:24:21.742+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,Client deleted successfully,[]>
END OF REQUEST
2023-11-09T13:24:21.772+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T13:24:21.774+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T13:24:21.805+01:00 ERROR 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [fee1a328-e29b-4541-9284-b7c679e8a58e]. fee1a328-e29b-4541-9284-b7c679e8a58e not found
2023-11-09T13:24:22.738+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T13:24:22.739+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T13:24:22.744+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T13:24:23.415+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.createClient
2023-11-09T13:24:23.421+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.createClient
2023-11-09T13:24:23.453+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,ClientDTO(id=5acf3072-7eb1-4eb0-a57b-578e6d0a839b, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[Location:"/5acf3072-7eb1-4eb0-a57b-578e6d0a839b"]>
END OF REQUEST
2023-11-09T13:24:23.529+01:00  INFO 71869 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:24:23.542+01:00  INFO 71869 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-11-09T13:24:23.963+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.create
2023-11-09T13:24:23.965+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.createAgreement
2023-11-09T13:24:24.063+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AgreementDTO(id=513458cb-0e5f-4d89-b334-2f744792e52e, status=NEW, accountId=11f7986c-c1d8-4231-838a-e84b17ccebdb, productId=afc9da7c-299d-4dd1-93bc-d71de8e5d1a6),[]>
END OF REQUEST
2023-11-09T13:24:24.156+01:00  INFO 71869 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:24:24.174+01:00  INFO 71869 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-11-09T13:24:24.721+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/update/afc9da7c-299d-4dd1-93bc-d71de8e5d1a6
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.updateById
2023-11-09T13:24:24.722+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.updateProductById
2023-11-09T13:24:24.748+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ProductDTO(name=name, status=BLOCKED, interestRate=2.50, minLimit=100),[]>
END OF REQUEST
2023-11-09T13:24:24.851+01:00  INFO 71869 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:24:24.861+01:00  INFO 71869 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-11-09T13:24:25.137+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.findTransaction
2023-11-09T13:24:25.138+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.findTransactionById
2023-11-09T13:24:25.170+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,TransactionDTO(id=18fbdb44-5563-47c0-b42e-20d5405e187d, debitAccountName=657483958765, creditAccountName=657483958765, status=ACTIVE, amount=2000.0000, description=a new transaction was created),[]>
END OF REQUEST
2023-11-09T13:24:25.207+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.deleteTransaction
2023-11-09T13:24:25.222+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.deleteTransactionById
2023-11-09T13:24:25.253+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T13:24:25.264+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.findTransaction
2023-11-09T13:24:25.266+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.findTransactionById
2023-11-09T13:24:25.272+01:00 ERROR 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [18fbdb44-5563-47c0-b42e-20d5405e187d]. Transaction not found
2023-11-09T13:24:25.312+01:00  INFO 71869 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:24:25.324+01:00  INFO 71869 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ManagerControllerTest
2023-11-09T13:24:25.601+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.createManager
2023-11-09T13:24:25.602+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.createManager
2023-11-09T13:24:25.613+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,ManagerDTO(id=080c57f2-cd86-4f97-ab3d-cd286192f390, status=NEW, firstName=Pol, lastName=Popkow),[Location:"/080c57f2-cd86-4f97-ab3d-cd286192f390"]>
END OF REQUEST
2023-11-09T13:24:25.861+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.findManager
2023-11-09T13:24:25.862+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.findManagerById
2023-11-09T13:24:25.884+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ManagerDTO(id=1370ec78-5c28-46c3-b8dd-8ebee695daea, status=NEW, firstName=Vasilev, lastName=Ivan),[]>
END OF REQUEST
2023-11-09T13:24:25.940+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.deleteById
2023-11-09T13:24:25.943+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.deleteManagerById
2023-11-09T13:24:26.290+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T13:24:26.295+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.findManager
2023-11-09T13:24:26.296+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.findManagerById
2023-11-09T13:24:26.302+01:00 ERROR 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [1370ec78-5c28-46c3-b8dd-8ebee695daea]. Manager not found
2023-11-09T13:24:26.363+01:00  INFO 71869 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T13:24:26.370+01:00  INFO 71869 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.AccountControllerTest
2023-11-09T13:24:26.752+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T13:24:26.753+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T13:24:26.754+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T13:24:26.779+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=4dee91ac-a587-4a9d-8987-e60b5e978633, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='584313810760', createdAt=2023-11-09T13:24:26.770321, updatedAt=2023-11-09T13:24:26.770348},[Location:"/4dee91ac-a587-4a9d-8987-e60b5e978633"]>
END OF REQUEST
2023-11-09T13:24:27.004+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/4dee91ac-a587-4a9d-8987-e60b5e978633
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.deleteAccount
2023-11-09T13:24:27.005+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.deleteAccount
2023-11-09T13:24:27.224+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T13:24:27.238+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/4dee91ac-a587-4a9d-8987-e60b5e978633
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T13:24:27.240+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T13:24:27.254+01:00 ERROR 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [4dee91ac-a587-4a9d-8987-e60b5e978633]. Account not found
2023-11-09T13:24:27.517+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/by-product-name
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-11-09T13:24:27.518+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-11-09T13:24:28.103+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=657483958765, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov)],[]>
END OF REQUEST
2023-11-09T13:24:28.250+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T13:24:28.250+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T13:24:28.251+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T13:24:28.262+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=e8486a4f-3807-4a31-9914-20271287bfe3, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='096737057581', createdAt=2023-11-09T13:24:28.254317, updatedAt=2023-11-09T13:24:28.254332},[Location:"/e8486a4f-3807-4a31-9914-20271287bfe3"]>
END OF REQUEST
2023-11-09T13:24:28.268+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/e8486a4f-3807-4a31-9914-20271287bfe3
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T13:24:28.268+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T13:24:28.280+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=e8486a4f-3807-4a31-9914-20271287bfe3, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=EUR, type=CHECKING, balance=0.00, name=096737057581, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T13:24:28.398+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T13:24:28.406+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T13:24:28.407+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T13:24:28.435+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=7cd57c9c-fe45-4e89-91de-2cb36aca57cf, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='799077427286', createdAt=2023-11-09T13:24:28.430376, updatedAt=2023-11-09T13:24:28.430399},[Location:"/7cd57c9c-fe45-4e89-91de-2cb36aca57cf"]>
END OF REQUEST
2023-11-09T13:24:28.817+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T13:24:28.818+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T13:24:28.818+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T13:24:28.877+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=61e99e7a-a086-4408-8666-599cab1502c6, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='003089787845', createdAt=2023-11-09T13:24:28.827752, updatedAt=2023-11-09T13:24:28.827774},[Location:"/61e99e7a-a086-4408-8666-599cab1502c6"]>
END OF REQUEST
2023-11-09T13:24:28.898+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/update/61e99e7a-a086-4408-8666-599cab1502c6
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.updateAccount
2023-11-09T13:24:28.899+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.updateAccount
2023-11-09T13:24:28.928+01:00  INFO 71869 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=61e99e7a-a086-4408-8666-599cab1502c6, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000, name=null, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T13:24:32.829+01:00  INFO 71869 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:24:33.871+01:00  INFO 71869 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-09T13:24:33.875+01:00  INFO 71869 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-09T13:30:06.187+01:00  INFO 72025 --- [main] com.example.bankapp.BankAppApplication   : Starting BankAppApplication using Java 20.0.1 with PID 72025 (/Users/elenavasileva/IdeaProjects/BankApp/target/classes started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T13:30:06.191+01:00  INFO 72025 --- [main] com.example.bankapp.BankAppApplication   : No active profile set, falling back to 1 default profile: "default"
2023-11-09T13:30:08.895+01:00  INFO 72025 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T13:30:09.150+01:00  INFO 72025 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 235 ms. Found 6 JPA repository interfaces.
2023-11-09T13:30:10.724+01:00  INFO 72025 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-09T13:30:10.743+01:00  INFO 72025 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-09T13:30:10.743+01:00  INFO 72025 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2023-11-09T13:30:10.916+01:00  INFO 72025 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-09T13:30:10.917+01:00  INFO 72025 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4512 ms
2023-11-09T13:30:11.463+01:00  INFO 72025 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T13:30:12.677+01:00  INFO 72025 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1682e6a
2023-11-09T13:30:12.680+01:00  INFO 72025 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T13:30:14.075+01:00  INFO 72025 --- [main] liquibase.changelog                      : Reading from bankapp.DATABASECHANGELOG
2023-11-09T13:30:14.089+01:00  INFO 72025 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-09T13:30:14.469+01:00  INFO 72025 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T13:30:14.565+01:00  INFO 72025 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T13:30:14.568+01:00  INFO 72025 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T13:30:14.869+01:00  INFO 72025 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:30:15.276+01:00  INFO 72025 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T13:30:15.932+01:00  INFO 72025 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:30:17.454+01:00  INFO 72025 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T13:30:17.458+01:00  INFO 72025 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:30:18.622+01:00  INFO 72025 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T13:30:23.000+01:00  INFO 72025 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-11-09T13:30:23.014+01:00  INFO 72025 --- [main] com.example.bankapp.BankAppApplication   : Started BankAppApplication in 21.757 seconds (process running for 27.012)
2023-11-09T13:30:32.171+01:00  INFO 72025 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-11-09T13:30:32.176+01:00  INFO 72025 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-11-09T13:30:32.193+01:00  INFO 72025 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 16 ms
2023-11-09T13:31:19.213+01:00  INFO 72025 --- [http-nio-8080-exec-2] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 1020 ms
2023-11-09T13:37:48.492+01:00  INFO 72025 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:37:48.496+01:00  INFO 72025 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-09T13:37:48.986+01:00  INFO 72025 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-09T13:38:09.501+01:00  INFO 72187 --- [main] com.example.bankapp.BankAppApplication   : Starting BankAppApplication using Java 20.0.1 with PID 72187 (/Users/elenavasileva/IdeaProjects/BankApp/target/classes started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T13:38:09.505+01:00  INFO 72187 --- [main] com.example.bankapp.BankAppApplication   : No active profile set, falling back to 1 default profile: "default"
2023-11-09T13:38:11.056+01:00  INFO 72187 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T13:38:11.176+01:00  INFO 72187 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 109 ms. Found 6 JPA repository interfaces.
2023-11-09T13:38:13.426+01:00  INFO 72187 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-09T13:38:13.446+01:00  INFO 72187 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-09T13:38:13.446+01:00  INFO 72187 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2023-11-09T13:38:13.612+01:00  INFO 72187 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-09T13:38:13.613+01:00  INFO 72187 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4034 ms
2023-11-09T13:38:14.329+01:00  INFO 72187 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T13:38:15.195+01:00  INFO 72187 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3ba3f40d
2023-11-09T13:38:15.199+01:00  INFO 72187 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T13:38:17.580+01:00  INFO 72187 --- [main] liquibase.changelog                      : Reading from bankapp.DATABASECHANGELOG
2023-11-09T13:38:17.641+01:00  INFO 72187 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-09T13:38:18.415+01:00  INFO 72187 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T13:38:18.645+01:00  INFO 72187 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T13:38:18.651+01:00  INFO 72187 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T13:38:19.221+01:00  INFO 72187 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:38:19.451+01:00  INFO 72187 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T13:38:20.120+01:00  INFO 72187 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T13:38:21.515+01:00  INFO 72187 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T13:38:21.520+01:00  INFO 72187 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T13:38:22.738+01:00  INFO 72187 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T13:38:27.046+01:00  INFO 72187 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-11-09T13:38:27.061+01:00  INFO 72187 --- [main] com.example.bankapp.BankAppApplication   : Started BankAppApplication in 19.441 seconds (process running for 22.692)
2023-11-09T13:38:35.782+01:00  INFO 72187 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-11-09T13:38:35.783+01:00  INFO 72187 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-11-09T13:38:35.786+01:00  INFO 72187 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-11-09T13:38:38.575+01:00  INFO 72187 --- [http-nio-8080-exec-4] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 1198 ms
2023-11-09T14:08:38.604+01:00  INFO 72701 --- [main] c.e.b.controller.ManagerControllerTest   : Starting ManagerControllerTest using Java 20.0.1 with PID 72701 (started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T14:08:38.613+01:00  INFO 72701 --- [main] c.e.b.controller.ManagerControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-11-09T14:08:41.580+01:00  INFO 72701 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T14:08:41.819+01:00  INFO 72701 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 222 ms. Found 6 JPA repository interfaces.
2023-11-09T14:08:43.944+01:00  INFO 72701 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T14:08:44.201+01:00  INFO 72701 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T14:08:44.210+01:00  INFO 72701 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T14:08:44.754+01:00  INFO 72701 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T14:08:45.267+01:00  INFO 72701 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T14:08:45.294+01:00  INFO 72701 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T14:08:47.258+01:00 ERROR 72701 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.

org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database may be already in use: null. Possible solutions: close all other connection(s); use the server mode [90020-210]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:697)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:496)
	at org.h2.message.DbException.get(DbException.java:216)
	at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:161)
	at org.h2.mvstore.db.Store.<init>(Store.java:140)
	at org.h2.engine.Database.<init>(Database.java:324)
	at org.h2.engine.Engine.openSession(Engine.java:92)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:338)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:122)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:231)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:199)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:169)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1158)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1409)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.h2.mvstore.MVStoreException: The file is locked: /Users/elenavasileva/IdeaProjects/BankApp/testdb.mv.db [2.1.210/7]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:1004)
	at org.h2.mvstore.FileStore.open(FileStore.java:163)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:444)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:4056)
	at org.h2.mvstore.db.Store.<init>(Store.java:129)
	... 128 common frames omitted

2023-11-09T14:08:47.271+01:00  WARN 72701 --- [main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata

org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database may be already in use: null. Possible solutions: close all other connection(s); use the server mode [90020-210]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:697)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:496)
	at org.h2.message.DbException.get(DbException.java:216)
	at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:161)
	at org.h2.mvstore.db.Store.<init>(Store.java:140)
	at org.h2.engine.Database.<init>(Database.java:324)
	at org.h2.engine.Engine.openSession(Engine.java:92)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:338)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:122)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:231)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:199)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:169)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1158)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1409)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.h2.mvstore.MVStoreException: The file is locked: /Users/elenavasileva/IdeaProjects/BankApp/testdb.mv.db [2.1.210/7]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:1004)
	at org.h2.mvstore.FileStore.open(FileStore.java:163)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:444)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:4056)
	at org.h2.mvstore.db.Store.<init>(Store.java:129)
	... 128 common frames omitted

2023-11-09T14:08:48.572+01:00  INFO 72701 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T14:08:51.321+01:00  INFO 72701 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T14:08:51.327+01:00  INFO 72701 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T14:08:53.543+01:00  INFO 72701 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T14:08:59.673+01:00  WARN 72701 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-09T14:09:02.396+01:00  INFO 72701 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-09T14:09:02.397+01:00  INFO 72701 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-09T14:09:02.401+01:00  INFO 72701 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2023-11-09T14:09:02.496+01:00  INFO 72701 --- [main] c.e.b.controller.ManagerControllerTest   : Started ManagerControllerTest in 25.284 seconds (process running for 31.453)
2023-11-09T14:09:02.590+01:00  INFO 72701 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T14:09:03.859+01:00 ERROR 72701 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.

org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database may be already in use: null. Possible solutions: close all other connection(s); use the server mode [90020-210]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:697)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:496)
	at org.h2.message.DbException.get(DbException.java:216)
	at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:161)
	at org.h2.mvstore.db.Store.<init>(Store.java:140)
	at org.h2.engine.Database.<init>(Database.java:324)
	at org.h2.engine.Engine.openSession(Engine.java:92)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:338)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:122)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.h2.mvstore.MVStoreException: The file is locked: /Users/elenavasileva/IdeaProjects/BankApp/testdb.mv.db [2.1.210/7]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:1004)
	at org.h2.mvstore.FileStore.open(FileStore.java:163)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:444)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:4056)
	at org.h2.mvstore.db.Store.<init>(Store.java:129)
	... 90 common frames omitted

2023-11-09T14:09:03.865+01:00  WARN 72701 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90020, SQLState: 90020
2023-11-09T14:09:03.865+01:00 ERROR 72701 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database may be already in use: null. Possible solutions: close all other connection(s); use the server mode [90020-210]
2023-11-09T14:09:03.870+01:00  WARN 72701 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void com.example.bankapp.controller.ManagerControllerTest.updateManager() throws java.lang.Exception] and test instance [com.example.bankapp.controller.ManagerControllerTest@30587737]

org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [Database may be already in use: null. Possible solutions: close all other connection(s); use the server mode [90020-210]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 66 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database may be already in use: null. Possible solutions: close all other connection(s); use the server mode [90020-210]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:697)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:496)
	at org.h2.message.DbException.get(DbException.java:216)
	at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:161)
	at org.h2.mvstore.db.Store.<init>(Store.java:140)
	at org.h2.engine.Database.<init>(Database.java:324)
	at org.h2.engine.Engine.openSession(Engine.java:92)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:338)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:122)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 73 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: The file is locked: /Users/elenavasileva/IdeaProjects/BankApp/testdb.mv.db [2.1.210/7]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:1004)
	at org.h2.mvstore.FileStore.open(FileStore.java:163)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:444)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:4056)
	at org.h2.mvstore.db.Store.<init>(Store.java:129)
	... 90 common frames omitted

2023-11-09T14:09:05.869+01:00  INFO 72701 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T14:09:40.965+01:00  INFO 72729 --- [main] c.e.b.controller.ManagerControllerTest   : Starting ManagerControllerTest using Java 20.0.1 with PID 72729 (started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T14:09:40.968+01:00  INFO 72729 --- [main] c.e.b.controller.ManagerControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-11-09T14:09:44.062+01:00  INFO 72729 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T14:09:44.319+01:00  INFO 72729 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 240 ms. Found 6 JPA repository interfaces.
2023-11-09T14:09:47.068+01:00  INFO 72729 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T14:09:47.282+01:00  INFO 72729 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T14:09:47.290+01:00  INFO 72729 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T14:09:47.800+01:00  INFO 72729 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T14:09:48.192+01:00  INFO 72729 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T14:09:48.229+01:00  INFO 72729 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T14:09:49.144+01:00  INFO 72729 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-11-09T14:09:49.148+01:00  INFO 72729 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T14:09:50.062+01:00  INFO 72729 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T14:09:52.595+01:00  INFO 72729 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T14:09:52.605+01:00  INFO 72729 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T14:09:54.603+01:00  INFO 72729 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T14:09:59.449+01:00  WARN 72729 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-09T14:10:02.258+01:00  INFO 72729 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-09T14:10:02.259+01:00  INFO 72729 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-09T14:10:02.261+01:00  INFO 72729 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-11-09T14:10:02.349+01:00  INFO 72729 --- [main] c.e.b.controller.ManagerControllerTest   : Started ManagerControllerTest in 23.067 seconds (process running for 28.784)
2023-11-09T14:10:04.240+01:00  INFO 72729 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/update/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.updateManager
2023-11-09T14:10:04.245+01:00  INFO 72729 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.updateManager
2023-11-09T14:10:04.565+01:00  INFO 72729 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ManagerDTO(id=1370ec78-5c28-46c3-b8dd-8ebee695daea, status=NEW, firstName=John, lastName=Rom),[]>
END OF REQUEST
2023-11-09T14:10:04.703+01:00  INFO 72729 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T14:10:04.707+01:00  INFO 72729 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-09T14:10:04.717+01:00  INFO 72729 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-09T14:17:34.131+01:00  INFO 72892 --- [main] c.e.b.c.TransactionControllerTest        : Starting TransactionControllerTest using Java 20.0.1 with PID 72892 (started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T14:17:34.153+01:00  INFO 72892 --- [main] c.e.b.c.TransactionControllerTest        : No active profile set, falling back to 1 default profile: "default"
2023-11-09T14:17:37.191+01:00  INFO 72892 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T14:17:37.407+01:00  INFO 72892 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 184 ms. Found 6 JPA repository interfaces.
2023-11-09T14:17:40.148+01:00  INFO 72892 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T14:17:40.818+01:00  INFO 72892 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T14:17:40.826+01:00  INFO 72892 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T14:17:41.276+01:00  INFO 72892 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T14:17:41.599+01:00  INFO 72892 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T14:17:41.679+01:00  INFO 72892 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T14:17:43.173+01:00  INFO 72892 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-11-09T14:17:43.177+01:00  INFO 72892 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T14:17:44.126+01:00  INFO 72892 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T14:17:47.686+01:00  INFO 72892 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T14:17:47.691+01:00  INFO 72892 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T14:17:51.083+01:00  INFO 72892 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T14:17:58.062+01:00  WARN 72892 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-09T14:18:01.092+01:00  INFO 72892 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-09T14:18:01.093+01:00  INFO 72892 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-09T14:18:01.099+01:00  INFO 72892 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2023-11-09T14:18:01.240+01:00  INFO 72892 --- [main] c.e.b.c.TransactionControllerTest        : Started TransactionControllerTest in 29.274 seconds (process running for 35.855)
2023-11-09T14:18:03.382+01:00  INFO 72892 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.findTransaction
2023-11-09T14:18:03.386+01:00  INFO 72892 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.findTransactionById
2023-11-09T14:18:03.602+01:00  INFO 72892 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,TransactionDTO(id=18fbdb44-5563-47c0-b42e-20d5405e187d, debitAccountName=988776544332, creditAccountName=657483958765, status=ACTIVE, amount=2000.0000, description=a new transaction was created),[]>
END OF REQUEST
2023-11-09T14:18:03.871+01:00  INFO 72892 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.deleteTransaction
2023-11-09T14:18:03.874+01:00  INFO 72892 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.deleteTransactionById
2023-11-09T14:18:03.943+01:00  INFO 72892 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T14:18:03.947+01:00  INFO 72892 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.findTransaction
2023-11-09T14:18:03.948+01:00  INFO 72892 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.findTransactionById
2023-11-09T14:18:03.953+01:00 ERROR 72892 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [18fbdb44-5563-47c0-b42e-20d5405e187d]. Transaction not found
2023-11-09T14:18:04.066+01:00  INFO 72892 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T14:18:04.069+01:00  INFO 72892 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-09T14:18:04.132+01:00  INFO 72892 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-09T14:47:45.746+01:00  WARN 72187 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Retrograde clock change detected (housekeeper delta=29s749ms), soft-evicting connections from pool.
2023-11-09T14:52:17.280+01:00  INFO 73458 --- [main] c.e.b.c.TransactionControllerTest        : Starting TransactionControllerTest using Java 20.0.1 with PID 73458 (started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T14:52:17.284+01:00  INFO 73458 --- [main] c.e.b.c.TransactionControllerTest        : No active profile set, falling back to 1 default profile: "default"
2023-11-09T14:52:20.062+01:00  INFO 73458 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T14:52:20.247+01:00  INFO 73458 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 171 ms. Found 6 JPA repository interfaces.
2023-11-09T14:52:22.116+01:00  INFO 73458 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T14:52:22.320+01:00  INFO 73458 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T14:52:22.325+01:00  INFO 73458 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T14:52:22.851+01:00  INFO 73458 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T14:52:23.261+01:00  INFO 73458 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T14:52:23.294+01:00  INFO 73458 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T14:52:25.370+01:00 ERROR 73458 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.

org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database may be already in use: null. Possible solutions: close all other connection(s); use the server mode [90020-210]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:697)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:496)
	at org.h2.message.DbException.get(DbException.java:216)
	at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:161)
	at org.h2.mvstore.db.Store.<init>(Store.java:140)
	at org.h2.engine.Database.<init>(Database.java:324)
	at org.h2.engine.Engine.openSession(Engine.java:92)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:338)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:122)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:231)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:199)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:169)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1158)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1409)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.h2.mvstore.MVStoreException: The file is locked: /Users/elenavasileva/IdeaProjects/BankApp/testdb.mv.db [2.1.210/7]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:1004)
	at org.h2.mvstore.FileStore.open(FileStore.java:163)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:444)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:4056)
	at org.h2.mvstore.db.Store.<init>(Store.java:129)
	... 128 common frames omitted

2023-11-09T14:52:25.379+01:00  WARN 73458 --- [main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata

org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database may be already in use: null. Possible solutions: close all other connection(s); use the server mode [90020-210]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:697)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:496)
	at org.h2.message.DbException.get(DbException.java:216)
	at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:161)
	at org.h2.mvstore.db.Store.<init>(Store.java:140)
	at org.h2.engine.Database.<init>(Database.java:324)
	at org.h2.engine.Engine.openSession(Engine.java:92)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:338)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:122)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:231)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:199)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:169)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1158)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1409)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.h2.mvstore.MVStoreException: The file is locked: /Users/elenavasileva/IdeaProjects/BankApp/testdb.mv.db [2.1.210/7]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:1004)
	at org.h2.mvstore.FileStore.open(FileStore.java:163)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:444)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:4056)
	at org.h2.mvstore.db.Store.<init>(Store.java:129)
	... 128 common frames omitted

2023-11-09T14:52:26.761+01:00  INFO 73458 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T14:52:30.175+01:00  INFO 73458 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T14:52:30.182+01:00  INFO 73458 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T14:52:34.141+01:00  INFO 73458 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T14:52:44.007+01:00  WARN 73458 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-09T14:52:46.936+01:00  INFO 73458 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-09T14:52:46.937+01:00  INFO 73458 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-09T14:52:46.941+01:00  INFO 73458 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2023-11-09T14:52:47.093+01:00  INFO 73458 --- [main] c.e.b.c.TransactionControllerTest        : Started TransactionControllerTest in 30.954 seconds (process running for 36.393)
2023-11-09T14:52:47.218+01:00  INFO 73458 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T14:52:47.597+01:00  INFO 73458 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn2: url=jdbc:h2:file:./testdb user=SA
2023-11-09T14:52:47.604+01:00  INFO 73458 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T14:52:49.397+01:00  INFO 73458 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/e0a35315-4bb8-485a-a108-93b346ab452e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:52:49.401+01:00  INFO 73458 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:52:49.655+01:00  INFO 73458 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=988776544332, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:52:49.861+01:00  INFO 73458 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/11f7986c-c1d8-4231-838a-e84b17ccebdb
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:52:49.862+01:00  INFO 73458 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:52:49.867+01:00  INFO 73458 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=11f7986c-c1d8-4231-838a-e84b17ccebdb, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=657483958765, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:52:49.952+01:00  WARN 73458 --- [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' is not supported]
2023-11-09T14:52:50.093+01:00  INFO 73458 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T14:52:50.096+01:00  INFO 73458 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-09T14:52:50.125+01:00  INFO 73458 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-09T14:54:18.555+01:00  INFO 73503 --- [main] c.e.b.c.TransactionControllerTest        : Starting TransactionControllerTest using Java 20.0.1 with PID 73503 (started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T14:54:18.558+01:00  INFO 73503 --- [main] c.e.b.c.TransactionControllerTest        : No active profile set, falling back to 1 default profile: "default"
2023-11-09T14:54:20.473+01:00  INFO 73503 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T14:54:20.679+01:00  INFO 73503 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 191 ms. Found 6 JPA repository interfaces.
2023-11-09T14:54:22.296+01:00  INFO 73503 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T14:54:22.443+01:00  INFO 73503 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T14:54:22.447+01:00  INFO 73503 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T14:54:22.783+01:00  INFO 73503 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T14:54:23.037+01:00  INFO 73503 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T14:54:23.134+01:00  INFO 73503 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T14:54:23.807+01:00  INFO 73503 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-11-09T14:54:23.809+01:00  INFO 73503 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T14:54:24.664+01:00  INFO 73503 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T14:54:26.305+01:00  INFO 73503 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T14:54:26.309+01:00  INFO 73503 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T14:54:28.010+01:00  INFO 73503 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T14:54:31.238+01:00  WARN 73503 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-09T14:54:33.426+01:00  INFO 73503 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-09T14:54:33.426+01:00  INFO 73503 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-09T14:54:33.428+01:00  INFO 73503 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2023-11-09T14:54:33.507+01:00  INFO 73503 --- [main] c.e.b.c.TransactionControllerTest        : Started TransactionControllerTest in 15.854 seconds (process running for 19.896)
2023-11-09T14:54:35.362+01:00  INFO 73503 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/e0a35315-4bb8-485a-a108-93b346ab452e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:54:35.368+01:00  INFO 73503 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:54:35.765+01:00  INFO 73503 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=988776544332, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:54:35.960+01:00  INFO 73503 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/11f7986c-c1d8-4231-838a-e84b17ccebdb
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:54:35.961+01:00  INFO 73503 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:54:35.970+01:00  INFO 73503 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=11f7986c-c1d8-4231-838a-e84b17ccebdb, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=657483958765, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:54:36.061+01:00  INFO 73503 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-11-09T14:54:36.062+01:00  INFO 73503 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-11-09T14:54:36.547+01:00  INFO 73503 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,TransactionDTO(id=89620789-1601-401f-97a0-65139527a129, debitAccountName=988776544332, creditAccountName=657483958765, status=SUCCESS, amount=100, description=qwewaaszd),[Location:"/89620789-1601-401f-97a0-65139527a129"]>
END OF REQUEST
2023-11-09T14:54:36.562+01:00  INFO 73503 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/e0a35315-4bb8-485a-a108-93b346ab452e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:54:36.563+01:00  INFO 73503 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:54:36.575+01:00  INFO 73503 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=900.00, name=988776544332, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:54:36.580+01:00  INFO 73503 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/11f7986c-c1d8-4231-838a-e84b17ccebdb
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:54:36.582+01:00  INFO 73503 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:54:36.600+01:00  INFO 73503 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=11f7986c-c1d8-4231-838a-e84b17ccebdb, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1100.00, name=657483958765, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:54:36.658+01:00  INFO 73503 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T14:54:36.662+01:00  INFO 73503 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-09T14:54:36.667+01:00  INFO 73503 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-09T14:55:53.912+01:00  INFO 73541 --- [main] c.e.b.controller.ClientControllerTest    : Starting ClientControllerTest using Java 20.0.1 with PID 73541 (started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T14:55:53.917+01:00  INFO 73541 --- [main] c.e.b.controller.ClientControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-11-09T14:56:01.452+01:00  INFO 73541 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T14:56:02.520+01:00  INFO 73541 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 984 ms. Found 6 JPA repository interfaces.
2023-11-09T14:56:07.499+01:00  INFO 73541 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T14:56:07.768+01:00  INFO 73541 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T14:56:07.776+01:00  INFO 73541 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T14:56:08.545+01:00  INFO 73541 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T14:56:09.564+01:00  INFO 73541 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T14:56:09.645+01:00  INFO 73541 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T14:56:11.912+01:00  INFO 73541 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-11-09T14:56:11.921+01:00  INFO 73541 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T14:56:13.946+01:00  INFO 73541 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T14:56:18.149+01:00  INFO 73541 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T14:56:18.160+01:00  INFO 73541 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T14:56:21.162+01:00  INFO 73541 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T14:56:27.340+01:00  WARN 73541 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-09T14:56:31.234+01:00  INFO 73541 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-09T14:56:31.239+01:00  INFO 73541 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-09T14:56:31.245+01:00  INFO 73541 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2023-11-09T14:56:31.475+01:00  INFO 73541 --- [main] c.e.b.controller.ClientControllerTest    : Started ClientControllerTest in 41.424 seconds (process running for 50.334)
2023-11-09T14:56:36.256+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/update/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.updateClient
2023-11-09T14:56:36.260+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.updateClient
2023-11-09T14:56:37.008+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=ACTIVE, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T14:56:37.328+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T14:56:37.329+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T14:56:37.398+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T14:56:37.407+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.deleteClient
2023-11-09T14:56:37.408+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.deleteClient
2023-11-09T14:56:37.501+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,Client deleted successfully,[]>
END OF REQUEST
2023-11-09T14:56:37.509+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T14:56:37.509+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T14:56:37.520+01:00 ERROR 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [fee1a328-e29b-4541-9284-b7c679e8a58e]. fee1a328-e29b-4541-9284-b7c679e8a58e not found
2023-11-09T14:56:37.862+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T14:56:37.864+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T14:56:37.869+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T14:56:38.362+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.createClient
2023-11-09T14:56:38.365+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.createClient
2023-11-09T14:56:38.396+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,ClientDTO(id=1f6c5658-ea25-48ea-a1a8-2edeb314a494, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[Location:"/1f6c5658-ea25-48ea-a1a8-2edeb314a494"]>
END OF REQUEST
2023-11-09T14:56:38.517+01:00  INFO 73541 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T14:56:38.525+01:00  INFO 73541 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-11-09T14:56:38.860+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.create
2023-11-09T14:56:38.867+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.createAgreement
2023-11-09T14:56:38.931+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AgreementDTO(id=be2b0d46-c3dd-473e-9f28-c9a4ac30ca66, status=NEW, accountId=11f7986c-c1d8-4231-838a-e84b17ccebdb, productId=afc9da7c-299d-4dd1-93bc-d71de8e5d1a6),[]>
END OF REQUEST
2023-11-09T14:56:39.021+01:00  INFO 73541 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T14:56:39.054+01:00  INFO 73541 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-11-09T14:56:39.346+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/update/afc9da7c-299d-4dd1-93bc-d71de8e5d1a6
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.updateById
2023-11-09T14:56:39.348+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.updateProductById
2023-11-09T14:56:39.365+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ProductDTO(name=name, status=BLOCKED, interestRate=2.50, minLimit=100),[]>
END OF REQUEST
2023-11-09T14:56:39.432+01:00  INFO 73541 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T14:56:39.443+01:00  INFO 73541 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-11-09T14:56:39.586+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.findTransaction
2023-11-09T14:56:39.587+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.findTransactionById
2023-11-09T14:56:39.653+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,TransactionDTO(id=18fbdb44-5563-47c0-b42e-20d5405e187d, debitAccountName=988776544332, creditAccountName=657483958765, status=ACTIVE, amount=2000.0000, description=a new transaction was created),[]>
END OF REQUEST
2023-11-09T14:56:39.742+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.deleteTransaction
2023-11-09T14:56:39.744+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.deleteTransactionById
2023-11-09T14:56:39.751+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T14:56:39.761+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.findTransaction
2023-11-09T14:56:39.762+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.findTransactionById
2023-11-09T14:56:39.771+01:00 ERROR 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [18fbdb44-5563-47c0-b42e-20d5405e187d]. Transaction not found
2023-11-09T14:56:40.446+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/e0a35315-4bb8-485a-a108-93b346ab452e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:56:40.447+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:56:40.497+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=988776544332, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:56:40.525+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/11f7986c-c1d8-4231-838a-e84b17ccebdb
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:56:40.527+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:56:40.540+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=11f7986c-c1d8-4231-838a-e84b17ccebdb, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=657483958765, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:56:40.582+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-11-09T14:56:40.593+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-11-09T14:56:41.012+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,TransactionDTO(id=876a3aac-dfd1-4193-ac3c-32d8ce40fd0d, debitAccountName=988776544332, creditAccountName=657483958765, status=SUCCESS, amount=100, description=qwewaaszd),[Location:"/876a3aac-dfd1-4193-ac3c-32d8ce40fd0d"]>
END OF REQUEST
2023-11-09T14:56:41.024+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/e0a35315-4bb8-485a-a108-93b346ab452e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:56:41.039+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:56:41.065+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=900.00, name=988776544332, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:56:41.069+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/11f7986c-c1d8-4231-838a-e84b17ccebdb
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:56:41.070+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:56:41.081+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=11f7986c-c1d8-4231-838a-e84b17ccebdb, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1100.00, name=657483958765, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:56:41.140+01:00  INFO 73541 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T14:56:41.150+01:00  INFO 73541 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ManagerControllerTest
2023-11-09T14:56:41.490+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.createManager
2023-11-09T14:56:41.490+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.createManager
2023-11-09T14:56:41.511+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,ManagerDTO(id=1fe68954-7f17-4c83-97e9-55b4b168a13c, status=NEW, firstName=Pol, lastName=Popkow),[Location:"/1fe68954-7f17-4c83-97e9-55b4b168a13c"]>
END OF REQUEST
2023-11-09T14:56:41.619+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/update/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.updateManager
2023-11-09T14:56:41.621+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.updateManager
2023-11-09T14:56:41.635+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ManagerDTO(id=1370ec78-5c28-46c3-b8dd-8ebee695daea, status=NEW, firstName=John, lastName=Rom),[]>
END OF REQUEST
2023-11-09T14:56:41.740+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.findManager
2023-11-09T14:56:41.741+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.findManagerById
2023-11-09T14:56:41.765+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ManagerDTO(id=1370ec78-5c28-46c3-b8dd-8ebee695daea, status=NEW, firstName=Vasilev, lastName=Ivan),[]>
END OF REQUEST
2023-11-09T14:56:41.770+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.deleteById
2023-11-09T14:56:41.817+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.deleteManagerById
2023-11-09T14:56:41.943+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T14:56:41.956+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.findManager
2023-11-09T14:56:41.958+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.findManagerById
2023-11-09T14:56:41.960+01:00 ERROR 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [1370ec78-5c28-46c3-b8dd-8ebee695daea]. Manager not found
2023-11-09T14:56:42.033+01:00  INFO 73541 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T14:56:42.073+01:00  INFO 73541 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.AccountControllerTest
2023-11-09T14:56:42.391+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T14:56:42.392+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T14:56:42.393+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T14:56:42.424+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=50552baf-0ac5-4279-8e7b-cf275f768bcb, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='121813236043', createdAt=2023-11-09T14:56:42.408551, updatedAt=2023-11-09T14:56:42.408610},[Location:"/50552baf-0ac5-4279-8e7b-cf275f768bcb"]>
END OF REQUEST
2023-11-09T14:56:42.552+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/50552baf-0ac5-4279-8e7b-cf275f768bcb
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.deleteAccount
2023-11-09T14:56:42.556+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.deleteAccount
2023-11-09T14:56:42.570+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T14:56:42.582+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/50552baf-0ac5-4279-8e7b-cf275f768bcb
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:56:42.588+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:56:42.595+01:00 ERROR 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [50552baf-0ac5-4279-8e7b-cf275f768bcb]. Account not found
2023-11-09T14:56:43.169+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/by-product-name
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-11-09T14:56:43.170+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-11-09T14:56:43.375+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=988776544332, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov)],[]>
END OF REQUEST
2023-11-09T14:56:43.648+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T14:56:43.649+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T14:56:43.650+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T14:56:43.665+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=ffe655f5-1385-46b8-bcf1-e7af55861e05, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='515388356915', createdAt=2023-11-09T14:56:43.660588, updatedAt=2023-11-09T14:56:43.660611},[Location:"/ffe655f5-1385-46b8-bcf1-e7af55861e05"]>
END OF REQUEST
2023-11-09T14:56:43.691+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/ffe655f5-1385-46b8-bcf1-e7af55861e05
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:56:43.692+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:56:43.710+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=ffe655f5-1385-46b8-bcf1-e7af55861e05, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=EUR, type=CHECKING, balance=0.00, name=515388356915, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:56:43.830+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T14:56:43.831+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T14:56:43.832+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T14:56:43.850+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=6e9ae62c-2d54-4fdf-893d-6814f33bca13, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='080977605761', createdAt=2023-11-09T14:56:43.843027, updatedAt=2023-11-09T14:56:43.843050},[Location:"/6e9ae62c-2d54-4fdf-893d-6814f33bca13"]>
END OF REQUEST
2023-11-09T14:56:44.117+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T14:56:44.118+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T14:56:44.118+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T14:56:44.127+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=1345687b-8027-4fb4-b1df-af9adfdfec6d, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='615032718625', createdAt=2023-11-09T14:56:44.121514, updatedAt=2023-11-09T14:56:44.121548},[Location:"/1345687b-8027-4fb4-b1df-af9adfdfec6d"]>
END OF REQUEST
2023-11-09T14:56:44.139+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/update/1345687b-8027-4fb4-b1df-af9adfdfec6d
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.updateAccount
2023-11-09T14:56:44.140+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.updateAccount
2023-11-09T14:56:44.169+01:00  INFO 73541 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=1345687b-8027-4fb4-b1df-af9adfdfec6d, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000, name=null, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:56:49.698+01:00  INFO 73541 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T14:56:50.924+01:00  INFO 73541 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-09T14:56:50.930+01:00  INFO 73541 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-09T14:57:37.738+01:00  INFO 73603 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 20.0.1 with PID 73603 (started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T14:57:37.742+01:00  INFO 73603 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-11-09T14:57:40.874+01:00  INFO 73603 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T14:57:41.154+01:00  INFO 73603 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 255 ms. Found 6 JPA repository interfaces.
2023-11-09T14:57:43.919+01:00  INFO 73603 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T14:57:44.148+01:00  INFO 73603 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T14:57:44.154+01:00  INFO 73603 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T14:57:44.719+01:00  INFO 73603 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T14:57:45.249+01:00  INFO 73603 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T14:57:45.289+01:00  INFO 73603 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T14:57:46.362+01:00  INFO 73603 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-11-09T14:57:46.366+01:00  INFO 73603 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T14:57:47.453+01:00  INFO 73603 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T14:57:49.831+01:00  INFO 73603 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T14:57:49.837+01:00  INFO 73603 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T14:57:52.637+01:00  INFO 73603 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T14:57:58.740+01:00  WARN 73603 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-09T14:58:02.354+01:00  INFO 73603 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-09T14:58:02.358+01:00  INFO 73603 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-09T14:58:02.361+01:00  INFO 73603 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2023-11-09T14:58:02.510+01:00  INFO 73603 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 26.227 seconds (process running for 32.199)
2023-11-09T14:58:04.770+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T14:58:04.773+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T14:58:04.774+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T14:58:05.247+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=4f802ad2-3e49-4ed1-a497-2743b12ac860, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='748550932588', createdAt=2023-11-09T14:58:05.131188, updatedAt=2023-11-09T14:58:05.131226},[Location:"/4f802ad2-3e49-4ed1-a497-2743b12ac860"]>
END OF REQUEST
2023-11-09T14:58:05.474+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/4f802ad2-3e49-4ed1-a497-2743b12ac860
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.deleteAccount
2023-11-09T14:58:05.476+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.deleteAccount
2023-11-09T14:58:05.704+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T14:58:05.741+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/4f802ad2-3e49-4ed1-a497-2743b12ac860
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:58:05.742+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:58:05.749+01:00 ERROR 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [4f802ad2-3e49-4ed1-a497-2743b12ac860]. Account not found
2023-11-09T14:58:06.229+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/by-product-name
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-11-09T14:58:06.230+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-11-09T14:58:06.546+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=988776544332, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov)],[]>
END OF REQUEST
2023-11-09T14:58:06.809+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T14:58:06.810+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T14:58:06.811+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T14:58:06.883+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=0dd6b2f6-6070-4138-9339-60b77acde926, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='323941612723', createdAt=2023-11-09T14:58:06.844136, updatedAt=2023-11-09T14:58:06.844159},[Location:"/0dd6b2f6-6070-4138-9339-60b77acde926"]>
END OF REQUEST
2023-11-09T14:58:06.903+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/0dd6b2f6-6070-4138-9339-60b77acde926
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:58:06.904+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:58:06.929+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=0dd6b2f6-6070-4138-9339-60b77acde926, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=EUR, type=CHECKING, balance=0.00, name=323941612723, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:58:07.222+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T14:58:07.228+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T14:58:07.232+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T14:58:07.249+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=3d420967-c41f-4b4a-88e1-cb97b06e0d83, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='206751701541', createdAt=2023-11-09T14:58:07.235019, updatedAt=2023-11-09T14:58:07.235042},[Location:"/3d420967-c41f-4b4a-88e1-cb97b06e0d83"]>
END OF REQUEST
2023-11-09T14:58:07.548+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T14:58:07.549+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T14:58:07.549+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T14:58:07.560+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=ae0a4b12-e4fe-4fba-b77f-4eaf5aa50ca2, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='662348755904', createdAt=2023-11-09T14:58:07.554163, updatedAt=2023-11-09T14:58:07.554188},[Location:"/ae0a4b12-e4fe-4fba-b77f-4eaf5aa50ca2"]>
END OF REQUEST
2023-11-09T14:58:07.586+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/update/ae0a4b12-e4fe-4fba-b77f-4eaf5aa50ca2
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.updateAccount
2023-11-09T14:58:07.587+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.updateAccount
2023-11-09T14:58:07.625+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=ae0a4b12-e4fe-4fba-b77f-4eaf5aa50ca2, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000, name=null, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:58:07.691+01:00  INFO 73603 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T14:58:07.704+01:00  INFO 73603 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-11-09T14:58:08.154+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/update/afc9da7c-299d-4dd1-93bc-d71de8e5d1a6
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.updateById
2023-11-09T14:58:08.155+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.updateProductById
2023-11-09T14:58:08.162+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ProductDTO(name=name, status=BLOCKED, interestRate=2.50, minLimit=100),[]>
END OF REQUEST
2023-11-09T14:58:11.081+01:00  INFO 73603 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T14:58:11.124+01:00  INFO 73603 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-11-09T14:58:11.593+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.findTransaction
2023-11-09T14:58:11.594+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.findTransactionById
2023-11-09T14:58:11.763+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,TransactionDTO(id=18fbdb44-5563-47c0-b42e-20d5405e187d, debitAccountName=988776544332, creditAccountName=657483958765, status=ACTIVE, amount=2000.0000, description=a new transaction was created),[]>
END OF REQUEST
2023-11-09T14:58:11.798+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.deleteTransaction
2023-11-09T14:58:11.800+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.deleteTransactionById
2023-11-09T14:58:11.810+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T14:58:11.896+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.findTransaction
2023-11-09T14:58:11.897+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.findTransactionById
2023-11-09T14:58:11.901+01:00 ERROR 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [18fbdb44-5563-47c0-b42e-20d5405e187d]. Transaction not found
2023-11-09T14:58:12.184+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/e0a35315-4bb8-485a-a108-93b346ab452e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:58:12.187+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:58:12.229+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=988776544332, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:58:12.236+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/11f7986c-c1d8-4231-838a-e84b17ccebdb
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:58:12.237+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:58:12.247+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=11f7986c-c1d8-4231-838a-e84b17ccebdb, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=657483958765, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:58:12.269+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-11-09T14:58:12.270+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-11-09T14:58:12.332+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,TransactionDTO(id=c44d50ca-4b27-40e2-8632-307946f12dab, debitAccountName=988776544332, creditAccountName=657483958765, status=SUCCESS, amount=100, description=qwewaaszd),[Location:"/c44d50ca-4b27-40e2-8632-307946f12dab"]>
END OF REQUEST
2023-11-09T14:58:12.367+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/e0a35315-4bb8-485a-a108-93b346ab452e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:58:12.369+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:58:12.410+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=900.00, name=988776544332, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:58:12.418+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/11f7986c-c1d8-4231-838a-e84b17ccebdb
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T14:58:12.420+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T14:58:12.431+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=11f7986c-c1d8-4231-838a-e84b17ccebdb, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1100.00, name=657483958765, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T14:58:12.495+01:00  INFO 73603 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ClientControllerTest]: ClientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T14:58:12.541+01:00  INFO 73603 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ClientControllerTest
2023-11-09T14:58:12.794+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/update/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.updateClient
2023-11-09T14:58:12.797+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.updateClient
2023-11-09T14:58:12.811+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=ACTIVE, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T14:58:13.025+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T14:58:13.027+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T14:58:13.044+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T14:58:13.061+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.deleteClient
2023-11-09T14:58:13.062+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.deleteClient
2023-11-09T14:58:13.073+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,Client deleted successfully,[]>
END OF REQUEST
2023-11-09T14:58:13.110+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T14:58:13.111+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T14:58:13.115+01:00 ERROR 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [fee1a328-e29b-4541-9284-b7c679e8a58e]. fee1a328-e29b-4541-9284-b7c679e8a58e not found
2023-11-09T14:58:13.569+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T14:58:13.574+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T14:58:13.599+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T14:58:15.134+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.createClient
2023-11-09T14:58:15.135+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.createClient
2023-11-09T14:58:15.142+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,ClientDTO(id=9460ef7a-4db0-45b0-a25e-c3c5938c6c91, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[Location:"/9460ef7a-4db0-45b0-a25e-c3c5938c6c91"]>
END OF REQUEST
2023-11-09T14:58:15.277+01:00  INFO 73603 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T14:58:15.287+01:00  INFO 73603 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-11-09T14:58:15.543+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.create
2023-11-09T14:58:15.544+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.createAgreement
2023-11-09T14:58:15.567+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AgreementDTO(id=2819b118-0a19-4f3f-bc40-cc2b6c595474, status=NEW, accountId=11f7986c-c1d8-4231-838a-e84b17ccebdb, productId=afc9da7c-299d-4dd1-93bc-d71de8e5d1a6),[]>
END OF REQUEST
2023-11-09T14:58:15.610+01:00  INFO 73603 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T14:58:15.629+01:00  INFO 73603 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ManagerControllerTest
2023-11-09T14:58:15.895+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.createManager
2023-11-09T14:58:15.900+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.createManager
2023-11-09T14:58:16.084+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,ManagerDTO(id=59589ac4-5749-4d5f-8de6-e84075e7e091, status=NEW, firstName=Pol, lastName=Popkow),[Location:"/59589ac4-5749-4d5f-8de6-e84075e7e091"]>
END OF REQUEST
2023-11-09T14:58:16.463+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/update/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.updateManager
2023-11-09T14:58:16.464+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.updateManager
2023-11-09T14:58:16.495+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ManagerDTO(id=1370ec78-5c28-46c3-b8dd-8ebee695daea, status=NEW, firstName=John, lastName=Rom),[]>
END OF REQUEST
2023-11-09T14:58:16.933+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.findManager
2023-11-09T14:58:16.944+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.findManagerById
2023-11-09T14:58:16.956+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ManagerDTO(id=1370ec78-5c28-46c3-b8dd-8ebee695daea, status=NEW, firstName=Vasilev, lastName=Ivan),[]>
END OF REQUEST
2023-11-09T14:58:16.963+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.deleteById
2023-11-09T14:58:16.964+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.deleteManagerById
2023-11-09T14:58:17.177+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T14:58:17.187+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.findManager
2023-11-09T14:58:17.192+01:00  INFO 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.findManagerById
2023-11-09T14:58:17.196+01:00 ERROR 73603 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [1370ec78-5c28-46c3-b8dd-8ebee695daea]. Manager not found
2023-11-09T14:58:17.316+01:00  INFO 73603 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T14:58:17.321+01:00  INFO 73603 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-09T14:58:17.331+01:00  INFO 73603 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-09T15:00:38.235+01:00  INFO 73663 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 20.0.1 with PID 73663 (started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T15:00:38.238+01:00  INFO 73663 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-11-09T15:00:41.696+01:00  INFO 73663 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T15:00:41.998+01:00  INFO 73663 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 287 ms. Found 6 JPA repository interfaces.
2023-11-09T15:00:44.578+01:00  INFO 73663 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T15:00:44.843+01:00  INFO 73663 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T15:00:44.850+01:00  INFO 73663 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T15:00:45.457+01:00  INFO 73663 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T15:00:45.976+01:00  INFO 73663 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T15:00:46.035+01:00  INFO 73663 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T15:00:48.332+01:00  INFO 73663 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-11-09T15:00:48.335+01:00  INFO 73663 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T15:00:49.374+01:00  INFO 73663 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T15:00:51.916+01:00  INFO 73663 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T15:00:51.924+01:00  INFO 73663 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T15:00:54.392+01:00  INFO 73663 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T15:00:59.594+01:00  WARN 73663 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-09T15:01:02.803+01:00  INFO 73663 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-09T15:01:02.803+01:00  INFO 73663 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-09T15:01:02.806+01:00  INFO 73663 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2023-11-09T15:01:02.885+01:00  INFO 73663 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 26.507 seconds (process running for 32.933)
2023-11-09T15:01:04.863+01:00  INFO 73663 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/by-product-name
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-11-09T15:01:04.866+01:00  INFO 73663 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-11-09T15:01:05.436+01:00  INFO 73663 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=988776544332, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov)],[]>
END OF REQUEST
2023-11-09T15:01:05.785+01:00  INFO 73663 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T15:01:05.788+01:00  INFO 73663 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-09T15:01:05.793+01:00  INFO 73663 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-09T15:02:14.426+01:00  INFO 73706 --- [main] c.e.b.controller.ClientControllerTest    : Starting ClientControllerTest using Java 20.0.1 with PID 73706 (started by elenavasileva in /Users/elenavasileva/IdeaProjects/BankApp)
2023-11-09T15:02:14.431+01:00  INFO 73706 --- [main] c.e.b.controller.ClientControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-11-09T15:02:16.975+01:00  INFO 73706 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-09T15:02:17.197+01:00  INFO 73706 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 197 ms. Found 6 JPA repository interfaces.
2023-11-09T15:02:19.340+01:00  INFO 73706 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-09T15:02:19.520+01:00  INFO 73706 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2023-11-09T15:02:19.529+01:00  INFO 73706 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-11-09T15:02:20.078+01:00  INFO 73706 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T15:02:20.612+01:00  INFO 73706 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-09T15:02:20.668+01:00  INFO 73706 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-09T15:02:21.943+01:00  INFO 73706 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-11-09T15:02:21.949+01:00  INFO 73706 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-09T15:02:22.906+01:00  INFO 73706 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-11-09T15:02:25.413+01:00  INFO 73706 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-09T15:02:25.426+01:00  INFO 73706 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T15:02:27.297+01:00  INFO 73706 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-09T15:02:30.975+01:00  WARN 73706 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-09T15:02:33.024+01:00  INFO 73706 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-09T15:02:33.025+01:00  INFO 73706 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-09T15:02:33.028+01:00  INFO 73706 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-11-09T15:02:33.070+01:00  INFO 73706 --- [main] c.e.b.controller.ClientControllerTest    : Started ClientControllerTest in 20.209 seconds (process running for 24.8)
2023-11-09T15:02:34.676+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/update/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.updateClient
2023-11-09T15:02:34.696+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.updateClient
2023-11-09T15:02:35.019+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=ACTIVE, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T15:02:35.223+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T15:02:35.224+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T15:02:35.229+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T15:02:35.234+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.deleteClient
2023-11-09T15:02:35.235+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.deleteClient
2023-11-09T15:02:35.284+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,Client deleted successfully,[]>
END OF REQUEST
2023-11-09T15:02:35.290+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T15:02:35.292+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T15:02:35.298+01:00 ERROR 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [fee1a328-e29b-4541-9284-b7c679e8a58e]. fee1a328-e29b-4541-9284-b7c679e8a58e not found
2023-11-09T15:02:35.485+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/fee1a328-e29b-4541-9284-b7c679e8a58e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.getById
2023-11-09T15:02:35.486+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientDtoById
2023-11-09T15:02:35.491+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ClientDTO(id=fee1a328-e29b-4541-9284-b7c679e8a58e, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[]>
END OF REQUEST
2023-11-09T15:02:35.762+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.ClientController.createClient
2023-11-09T15:02:35.762+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.createClient
2023-11-09T15:02:35.788+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,ClientDTO(id=4ee42dff-3799-4363-b3b6-3e3433265e01, status=NEW, taxCode=98765432, firstName=Vasja, lastName=Petrov, email=petrov@gmail.com, address=Warshaw, Kalina, 11, phone=6789908643),[Location:"/4ee42dff-3799-4363-b3b6-3e3433265e01"]>
END OF REQUEST
2023-11-09T15:02:35.814+01:00  INFO 73706 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T15:02:35.822+01:00  INFO 73706 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-11-09T15:02:35.945+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.create
2023-11-09T15:02:35.946+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.createAgreement
2023-11-09T15:02:35.999+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AgreementDTO(id=ef03643f-af80-4ece-9a9f-a037ac7a86b1, status=NEW, accountId=11f7986c-c1d8-4231-838a-e84b17ccebdb, productId=afc9da7c-299d-4dd1-93bc-d71de8e5d1a6),[]>
END OF REQUEST
2023-11-09T15:02:36.045+01:00  INFO 73706 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T15:02:36.057+01:00  INFO 73706 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-11-09T15:02:36.188+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/update/afc9da7c-299d-4dd1-93bc-d71de8e5d1a6
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.updateById
2023-11-09T15:02:36.196+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.updateProductById
2023-11-09T15:02:36.233+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ProductDTO(name=name, status=BLOCKED, interestRate=2.50, minLimit=100),[]>
END OF REQUEST
2023-11-09T15:02:36.285+01:00  INFO 73706 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T15:02:36.299+01:00  INFO 73706 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-11-09T15:02:36.466+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.findTransaction
2023-11-09T15:02:36.467+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.findTransactionById
2023-11-09T15:02:36.508+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,TransactionDTO(id=18fbdb44-5563-47c0-b42e-20d5405e187d, debitAccountName=988776544332, creditAccountName=657483958765, status=ACTIVE, amount=2000.0000, description=a new transaction was created),[]>
END OF REQUEST
2023-11-09T15:02:36.534+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.deleteTransaction
2023-11-09T15:02:36.535+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.deleteTransactionById
2023-11-09T15:02:36.557+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T15:02:36.570+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/18fbdb44-5563-47c0-b42e-20d5405e187d
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.findTransaction
2023-11-09T15:02:36.571+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.findTransactionById
2023-11-09T15:02:36.574+01:00 ERROR 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [18fbdb44-5563-47c0-b42e-20d5405e187d]. Transaction not found
2023-11-09T15:02:36.654+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/e0a35315-4bb8-485a-a108-93b346ab452e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T15:02:36.655+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T15:02:36.670+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=988776544332, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T15:02:36.682+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/11f7986c-c1d8-4231-838a-e84b17ccebdb
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T15:02:36.682+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T15:02:36.689+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=11f7986c-c1d8-4231-838a-e84b17ccebdb, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=657483958765, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T15:02:36.699+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transactions/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-11-09T15:02:36.700+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-11-09T15:02:37.002+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,TransactionDTO(id=dd13c8cd-a574-4389-a546-a9a443557059, debitAccountName=988776544332, creditAccountName=657483958765, status=SUCCESS, amount=100, description=qwewaaszd),[Location:"/dd13c8cd-a574-4389-a546-a9a443557059"]>
END OF REQUEST
2023-11-09T15:02:37.006+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/e0a35315-4bb8-485a-a108-93b346ab452e
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T15:02:37.007+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T15:02:37.028+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=900.00, name=988776544332, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T15:02:37.033+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/11f7986c-c1d8-4231-838a-e84b17ccebdb
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T15:02:37.034+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T15:02:37.043+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=11f7986c-c1d8-4231-838a-e84b17ccebdb, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1100.00, name=657483958765, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T15:02:37.139+01:00  INFO 73706 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T15:02:37.154+01:00  INFO 73706 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.ManagerControllerTest
2023-11-09T15:02:37.347+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.createManager
2023-11-09T15:02:37.348+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.createManager
2023-11-09T15:02:37.376+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,ManagerDTO(id=9dbb3223-3b46-4f6d-a17b-d61a1de59701, status=NEW, firstName=Pol, lastName=Popkow),[Location:"/9dbb3223-3b46-4f6d-a17b-d61a1de59701"]>
END OF REQUEST
2023-11-09T15:02:37.478+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/update/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.updateManager
2023-11-09T15:02:37.479+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.updateManager
2023-11-09T15:02:37.491+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ManagerDTO(id=1370ec78-5c28-46c3-b8dd-8ebee695daea, status=NEW, firstName=John, lastName=Rom),[]>
END OF REQUEST
2023-11-09T15:02:37.574+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.findManager
2023-11-09T15:02:37.575+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.findManagerById
2023-11-09T15:02:37.581+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,ManagerDTO(id=1370ec78-5c28-46c3-b8dd-8ebee695daea, status=NEW, firstName=Vasilev, lastName=Ivan),[]>
END OF REQUEST
2023-11-09T15:02:37.586+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.deleteById
2023-11-09T15:02:37.586+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.deleteManagerById
2023-11-09T15:02:37.741+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T15:02:37.751+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/1370ec78-5c28-46c3-b8dd-8ebee695daea
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ManagerController.findManager
2023-11-09T15:02:37.752+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ManagerServiceImpl.findManagerById
2023-11-09T15:02:37.758+01:00 ERROR 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [1370ec78-5c28-46c3-b8dd-8ebee695daea]. Manager not found
2023-11-09T15:02:37.805+01:00  INFO 73706 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-09T15:02:37.821+01:00  INFO 73706 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.bankapp.BankAppApplication for test class com.example.bankapp.controller.AccountControllerTest
2023-11-09T15:02:38.032+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T15:02:38.034+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T15:02:38.035+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T15:02:38.046+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=51bad2fe-0ae2-4b02-9d53-344d96057b15, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='561475908550', createdAt=2023-11-09T15:02:38.041610, updatedAt=2023-11-09T15:02:38.041639},[Location:"/51bad2fe-0ae2-4b02-9d53-344d96057b15"]>
END OF REQUEST
2023-11-09T15:02:38.138+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/51bad2fe-0ae2-4b02-9d53-344d96057b15
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.deleteAccount
2023-11-09T15:02:38.140+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.deleteAccount
2023-11-09T15:02:38.155+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-09T15:02:38.165+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/51bad2fe-0ae2-4b02-9d53-344d96057b15
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T15:02:38.166+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T15:02:38.169+01:00 ERROR 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [51bad2fe-0ae2-4b02-9d53-344d96057b15]. Account not found
2023-11-09T15:02:38.360+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/by-product-name
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-11-09T15:02:38.361+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-11-09T15:02:38.419+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,[AccountDTO(id=e0a35315-4bb8-485a-a108-93b346ab452e, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000.00, name=988776544332, productName=name, interestRate=1.5000, ownerFullName=Vasily Ivanov)],[]>
END OF REQUEST
2023-11-09T15:02:38.558+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T15:02:38.559+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T15:02:38.559+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T15:02:38.566+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=c6d6dbda-8bd7-4832-bdb6-225e8f92d210, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='894399242391', createdAt=2023-11-09T15:02:38.562621, updatedAt=2023-11-09T15:02:38.562639},[Location:"/c6d6dbda-8bd7-4832-bdb6-225e8f92d210"]>
END OF REQUEST
2023-11-09T15:02:38.572+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/c6d6dbda-8bd7-4832-bdb6-225e8f92d210
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.findAccount
2023-11-09T15:02:38.573+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.findAccountById
2023-11-09T15:02:38.589+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=c6d6dbda-8bd7-4832-bdb6-225e8f92d210, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=EUR, type=CHECKING, balance=0.00, name=894399242391, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T15:02:38.733+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T15:02:38.734+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T15:02:38.734+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T15:02:38.741+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=fcd1e02d-bd28-4079-ac9a-c2a4526a5163, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='595552267071', createdAt=2023-11-09T15:02:38.737590, updatedAt=2023-11-09T15:02:38.737608},[Location:"/fcd1e02d-bd28-4079-ac9a-c2a4526a5163"]>
END OF REQUEST
2023-11-09T15:02:38.802+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-11-09T15:02:38.803+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-11-09T15:02:38.803+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ClientServiceImpl.getClientById
2023-11-09T15:02:38.810+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,Account{id=fcd836db-28c6-44e6-ad1c-4da99e1eca60, status=NEW, currencyCode=EUR, type=CHECKING, balance=0, name='704214257787', createdAt=2023-11-09T15:02:38.805550, updatedAt=2023-11-09T15:02:38.805567},[Location:"/fcd836db-28c6-44e6-ad1c-4da99e1eca60"]>
END OF REQUEST
2023-11-09T15:02:38.816+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/update/fcd836db-28c6-44e6-ad1c-4da99e1eca60
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.updateAccount
2023-11-09T15:02:38.817+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.updateAccount
2023-11-09T15:02:38.830+01:00  INFO 73706 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AccountDTO(id=fcd836db-28c6-44e6-ad1c-4da99e1eca60, clientId=c48a263c-5a20-413e-8c9c-d89d83b1ee41, currencyCode=USD, type=SAVINGS, balance=1000, name=null, productName=null, interestRate=null, ownerFullName=Vasily Ivanov),[]>
END OF REQUEST
2023-11-09T15:02:41.090+01:00  INFO 73706 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-09T15:02:41.913+01:00  INFO 73706 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-09T15:02:41.918+01:00  INFO 73706 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-09T15:14:15.894+01:00  WARN 72187 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Retrograde clock change detected (housekeeper delta=29s867ms), soft-evicting connections from pool.
2023-11-09T16:39:20.830+01:00  WARN 72187 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m3s720ms).
2023-11-09T18:58:39.344+01:00  WARN 72187 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2h19m18s514ms).
